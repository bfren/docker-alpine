#!/usr/bin/env nu

use ../../lib/bf/

# Apply ownership or permissions values to files and directories matched by glob
export def main [
    ...glob                     # The paths to which to apply ch operations
    --mode (-m): string         # Use chmod: Set permissions to this mode
    --owner (-o): string        # Use chown: Set ownership to this user & group
    --recurse (-r)              # Overrides type to recurse whatever is matched by glob
    --type (-t): string = "a"   # Apply to all (a), files only (f) or directories only (d)
] {
    if $recurse {
        bf ch --mode $mode --owner $owner --recurse $glob
    } else {
        bf ch --mode $mode --owner $owner --type $type $glob
    }
}
