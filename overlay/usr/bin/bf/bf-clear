#!/usr/bin/env nu

use ../../lib/bf/

# Clear temporary directories, caches and installation files.
def main [] {
    bf print debug "Deleting /install" "bf-clear"
    bf util rmrf /install

    bf print debug "Clearing /tmp" "bf-clear"
    bf util rmrf /tmp/*

    bf print debug "Clearing caches..." "bf-clear"
    bf util rmrf /var/cache/apk/*
    bf util rmrf /var/cache/misc/*

    bf print debug "Removing .empty files..." "bf-clear"
    glob --no-dir /**/.empty | each { rm -f $in }

    bf print debug "Done." "bf-clear"
}
